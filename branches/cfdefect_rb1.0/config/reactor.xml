<?xml version="1.0" encoding="UTF-8"?>
<!-- 
	Reactor's configuration file where all database objects are identified. 
	Please refer to reactor documentation for details.
 -->
<reactor>
	<objects>		
		<object name="CD_ANNOUNCEMENTS" alias="announcements"  />

		<object name="CD_ISSUES" alias="issues">
			<hasOne name="projects">
				<relate from="projectidfk" to="id" />
			</hasOne>
			<hasOne name="users" alias="creator">
				<relate from="creatoridfk" to="id" />
			</hasOne>
			<hasOne name="users" alias="owner">
				<relate from="useridfk" to="id" />
			</hasOne>
			<hasOne name="severities" alias="severity">
				<relate from="severityidfk" to="id" />
			</hasOne>
			<hasOne name="projectloci" alias="locus">
				<relate from="locusidfk" to="id" />
			</hasOne>
			<hasOne name="statuses" alias="status">
				<relate from="statusidfk" to="id" />
			</hasOne>
			<hasOne name="issuetypes" alias="issuetype">
				<relate from="issuetypeidfk" to="id" />
			</hasOne>
		</object> 
		
		<object name="cd_issuetypes" alias="issuetypes" />
		
		<object name="CD_PROJECTLOCI" alias="projectloci" />
		
		<object name="CD_PROJECTS" alias="projects">
			<hasMany name="projectloci">
				<link name="projectsProjectLoci" from="projects" to="projectloci" />
			</hasMany>
			<hasMany name="users">
				<link name="projectUsers" from="projects" to="users" />
			</hasMany>
			<hasMany name="users" alias="projectsEmail">
		   		<link name="projectsUsersEmail" from="projects" to="users" />
		   	</hasMany>
		   	<hasMany name="announcements">
		   		<relate from="id" to="projectidfk" />
		   	</hasMany>
		</object>
		
		<object name="CD_PROJECTS_PROJECTLOCI" alias="projectsProjectLoci">
			<hasOne name="projects">
				<relate from="projectidfk" to="id"/>
			</hasOne>
			<hasOne name="projectLoci">
				<relate from="projectlociidfk" to="id"/>
			</hasOne>
		</object>
		
		<object name="CD_PROJECTS_USERS" alias="projectUsers">
			<hasOne name="projects">
				<relate from="projectidfk" to="id"/>
			</hasOne>
			<hasOne name="users">
				<relate from="useridfk" to="id"/>
			</hasOne>
		</object>
		
		<object name="CD_PROJECTS_USERS_EMAIL" alias="projectsUsersEmail">
			<hasOne name="projects">
				<relate from="projectidfk" to="id"/>
			</hasOne>
			<hasOne name="users">
				<relate from="useridfk" to="id"/>
			</hasOne>
		</object>
		
		<object name="CD_SEVERITIES" alias="severities" />
		
		<object name="CD_STATUSES" alias="statuses" />
		
		<object name="CD_USERS" alias="users">
			<hasMany name="groups">
		    	<link name="userGroups" from="users" to="groups" />
		   	</hasMany>
		   	<hasMany name="projects">
		   		<link name="projectUsers" from="users" to="projects" />
		   	</hasMany>
		   	<hasMany name="projects" alias="usersEmail">
		   		<link name="projectsUsersEmail" from="users" to="projects" />
		   	</hasMany>
		</object>
		  
		<object name="CD_USERS_GROUPS" alias="userGroups">
			<hasOne name="users">
		    	<relate from="useridfk" to="id" />
		   	</hasOne>
		   	<hasOne name="groups">
		   		<relate from="groupidfk" to="id" />
		   	</hasOne>
		</object> 
		  
		<object name="CD_GROUPS" alias="groups">
			<hasMany name="users">
		    	<link name="userGroups" from="groups" to="users" />
		   	</hasMany>
		</object>
		
	</objects>
	
</reactor>